<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>heatmap.js 说明文档</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="index, follow"/>
        <meta name="description" content="heatmap.js API 文档，包含一些代码碎片"/>
        <meta name="keywords" content="heatmap documentation, heatmap docs"/>
        <link rel="icon" type="image/png" href="assets/img/favicon.png"/>
        
        <link rel="stylesheet" href="assets/css/docs.css"/>
        <link rel="stylesheet" href="assets/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="assets/css/commons.css"/> 
        <link rel="stylesheet" href="assets/third-party/prism/prism.css"/>
        <style type="text/css">
            body {
    
                font-size: 18px;

            }
            ol, ul {
                margin-top: 0;
                margin-bottom: 0;
            }
            .glyphicon-hand-right:before {
                padding-right: 5px;
            }
            small{

            }
            a:focus, a:hover {
                text-decoration: none;
            }
        </style>
    </head>
    <body>
        <div class="wrapper">
            <h1>heatmap.js 文档</h1>
            <ol class="breadcrumb-trail">
                <li><a href="index.htnl" title="heatmap.js 动态网络热力图">heatmap.js</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-menu-right" aria-hidden="true">&nbsp;</span><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></li>
                <li>文档</li>
            </ol>
            <div id="message">
                <h3 id="activate-msg">在概述中，颜色意味着什么？</h3>
                <div id="msg-content">
                    <div class="msg">
                        <u style="font-weight:bold;text-decoration: none;">概述中颜色代表 API 功能的优先级：</u> <br>
                        <strong class="hot-doc highlight"><u>红色</u></strong>：常用功能<small class="label label-primary">使用频繁</small><br>
                        <strong class="avg-doc highlight"><u>绿色</u></strong>：用于自定义实现<br>
                        <strong class="cold-doc highlight"><u>蓝色</u></strong>：偶尔使用
                    </div>
                    <div id="btn-confirm">明白了，谢谢</div>
                </div>
            </div>
            <section id="index">
                <div id="index-h337">
                    <h2 style="text-align: center;"><a href="#h337">h337</a></h2>
                    <ul>
                        <li class="hot-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#h337-create">create(configObject)</a></li>
                        <!-- <li class="avg-doc"><a href="#h337-register">register(pluginKey, plugin)</a></li> -->
                    </ul>
                </div>
                <div id="index-heatmapInstance">
                    <h2 style="text-align: center;"><a href="#heatmapInstance">heatmapInstance</a></h2>
                    <ul>
                        <li class="hot-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-addData">addData(object|array)</a></li>
                        <li class="hot-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-setData">setData(object)</a></li>
                        <li class="cold-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-setDataMax">setDataMax(number)</a></li>
                        <li class="cold-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-setDataMin">setDataMin(number)</a></li>
                        <li class="avg-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-configure">configure(configObject)</a></li>
                        <li class="avg-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-getValueAt">getValueAt(object)</a></li>
                        <li class="hot-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-getData">getData()</a></li>
                        <li class="avg-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-getDataURL">getDataURL()</a></li>
                        <li class="cold-doc"><span class="glyphicon glyphicon-tag" aria-hidden="true" style="color:white;padding-left:10px;padding-right:10px;"></span><a href="#heatmap-repaint">repaint()</a></li>
                    </ul>
                </div>

            </section>
            <section id="h337">
                <h2>h337</h2>
                <div class="description">
                    <p><code>h337</code>是由<code>heatmap.js</code>注册的全局变量名。你可以使用它创建<code>heatmap</code>对象。</p>
                </div>
                <div class="functions">
                    <div class="fn">
                        <h3 id="h337-create">h337.create(configObject)</h3>
                        <div class="description">
                            <p>返回一个 <strong>heatmapInstance</strong>（heatmap 对象）。</p>
                            <p>使用 <code>h337.create </code>创建一个 <code>heatmap</code> 实例对象。这个对象由 <code>configObject</code> 来定义。</p>
                            <p><code>configObject</code>参数是必须传递的。</p>
                            <strong><u style="text-decoration: none;">配置属性：</u></strong><br>
                            <ul>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>container | </strong><code>DOMNode</code><small class="label label-primary">必需</small></p> 
                                    <p>一个DOM节点，用来承载heatmap Canvas画布（heatmap会自适应这个节点的大小）</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>backgroundColor | </strong><code> string</code> <small class="label label-primary">可选</small></p>
                                    以十六进制码、颜色名称或rgb(a)的形式显示的背景颜色字符串
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>gradient | </strong> <code>object</code> <small class="label label-primary">可选</small></p>
                                    <p>表示渐变色的一个对象（语法是 —— [0到1之间数值]:[颜色]），查看例子。</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>radius | </strong> <code>number</code> <small class="label label-primary">可选</small></p>
                                    <p>每个数据点的辐射半径（如果数据点本身没有指定）</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>opacity | </strong> <code>[0,1] number</code>  <small class="label label-primary">可选</small> 默认值为0.6</p>
                                    <p>整个heatmap的全局透明度。如果设置了 maxOpacity 和 minOpacity 属性，会被它覆盖掉！</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>maxOpacity | </strong> <code>[0,1] number</code> <small class="label label-primary">可选</small></p>
                                    <p>heatmap具有的最高值的最大透明度（会被opacity覆盖）</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>minOpacity | </strong><code> [0,1] number</code> <small class="label label-primary">可选</small></p>
                                    <p>heatmap具有的最低值的最小透明度（会被opacity覆盖）</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>onExtremaChange | </strong> <code>回调函数</code></p>
                                    <p>传递回调以接收极值更改更新。对DOM图例有用。</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>blur | </strong> <code>number [0,1]</code> <small class="label label-primary">可选</small> 默认值为0.85</p>
                                    <p>将应用于所有数据点的模糊因子。模糊因素越高，渐变越平滑</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>xField | </strong><code>string</code><small class="label label-primary">可选</small> 默认值为"x"</p>
                                    <p>数据点中x坐标的属性名称</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>yField |</strong><code>string</code> <small class="label label-primary">可选</small> 默认值为"y"</p>
                                    <p>数据点中y坐标的属性名称</p>
                                </li>
                                <li>
                                    <p><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span><strong>valueField | </strong> <code>string</code> <small class="label label-primary">可选</small> 默认值为"value"</p>
                                    <p>数据点中z坐标(你想表达的第三维数据)的属性名称</p>
                                </li>
                            </ul>
                            <p><b>配置示例</b></p>
                            <p>使用标准渐变色的简单配置</p>
                            <pre>
                                <code class="language-javascript">
// 创建一个配置对象
var config = {
    container: document.getElementById('heatmapContainer'),
    radius: 10,
    maxOpacity: .5,
    minOpacity: 0,
    blur: .75
};
// 使用配置创建一个heatmap
var heatmapInstance = h337.create(config);
                                </code>
                            </pre>
                            <p>自定义渐变色配置</p>
                            <pre>
                                <code class="language-javascript">
// 创建一个配置对象
var config = {
    container: document.getElementById('heatmapContainer'),
    radius: 10,
    maxOpacity: .5,
    minOpacity: 0,
    blur: .75,
    gradient: {
        // 输入0到1之间的键值 n，来自定义渐变颜色
        '.5': 'blue',
        '.8': 'red',
        '.95': 'white'
    }
};
var heatmapInstance = h337.create(config);
                                </code>
                            </pre>
                        </div>
                    </div>
                    <!-- <div class="fn">
                        <h3 id="h337-register">h337.register(pluginKey, plugin)</h3>
                        <div class="description">
                            to be written
                        </div>
                    </div> -->
                </div>
            </section>
            <section id="heatmapInstance">
                <h2>heatmapInstance</h2>
                <div class="description">
                    <p>由<code>h337.create</code>返回的heatmap实例对象。一个<code>heatmap</code>实例对象有自己的内部数据存储和渲染器，在这里你可以操作数据。这样，就利于<code>heatmap</code>更新（更新全部还是部分根据需求决定）。</p>
                </div>
                <div class="functions">
                    <div class="fn">
                        <h3 id="heatmap-addData">heatmapInstance.addData(object|array)</h3>
                        <div class="description">
                            <p><strong>返回</strong> <code>heatmapInstance</code></p>
                            <p>这个功能只适用于在运行过程中添加数据点，而不是初始化数据点！<code>heatmapInstance.addData</code> 添加单个或者多个数据点到heatmap的数据存储中。</p>
                            <pre>
                                <code class="language-javascript">
// 单个数据点
var dataPoint = { 
    x: 5, // x coordinate of the datapoint, a number 
    y: 5, // y coordinate of the datapoint, a number
    value: 100 // the value at datapoint(x, y)
};
heatmapInstance.addData(dataPoint);

// 多个数据点（想要初始化数据点使用<code>setData</code>!） 
var dataPoints = [dataPoint, dataPoint, dataPoint, dataPoint];
heatmapInstance.addData(dataPoints);
                                </code>
                            </pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-setData">heatmapInstance.setData(object)</h3>
                        <div class="description">
                            <p><strong>返回</strong><code>heatmapInstance</code></p>
                            <p>使用一个数据集初始化heatmap实例对象。<code>min</code>、<code>max</code> 和 <code>data</code> 属性是必需的。<br>
                            <code>setData</code>会移除<code>heatmap</code>对象中之前存在的所有数据点，并重新初始化数据点存储。</p>
                            <pre>
                                <code class="language-javascript">
var data = {
    max: 100,
    min: 0,
    data: [
        dataPoint, dataPoint, dataPoint, dataPoint
    ]
};
heatmapInstance.setData(data);
                                </code>
                            </pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-setDataMax">heatmapInstance.setDataMax(number)</h3>
                        <div class="description">
                            <p><strong>返回</strong><code>heatmapInstance</code></p>
                            <p>更改你的数据集的上限值并触发全部重绘。</p>
                            <pre>
                                <code class="language-javascript">
heatmapInstance.setDataMax(200);
// 设置数据集的上限值并触发全部重绘heatmap
heatmapInstance.setDataMax(100);
                                </code>
                            </pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-setDataMin">heatmapInstance.setDataMin(number)</h3>
                        <div class="description">
                            <p><strong>返回</strong><code>heatmapInstance</code></p>
                            <p>更改你的数据集的下限值并触发全部重绘。</p>
                            <pre>
                                <code class="language-javascript">
heatmapInstance.setDataMin(10);
// 设置数据集的下限值并触发全部重绘heatmap
heatmapInstance.setDataMin(0);
                                </code>
                            </pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-configure">heatmapInstance.configure(configObject)</h3>
                        <div class="description">
                            <p><strong>返回</strong> <code>heatmapInstance</code></p>
                            <p>在一个<code>heatmap</code>实例对象初始化后重新配置它。触发完全重绘。</p>
                            <pre>
                                <code class="language-javascript">
var nuConfig = {
    radius: 10,
    maxOpacity: .5,
    minOpacity: 0,
    blur: .75
};
heatmapInstance.configure(nuConfig);
                                </code>
                            </pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-getValueAt">heatmapInstance.getValueAt(object)</h3>
                        <div class="description">
                            <p><strong>返回</strong>一个位置上的数据点值</p>
                            <p>注意：如果点不存在，返回值是基于渐变混合的内插值</p>
                            <pre>
                                <code class="language-javascript">
heatmapInstance.addData({ x: 10, y: 10, value: 100});
// 获取 x=10, y=10 处的数据点值
heatmapInstance.getValueAt({ x: 10, y: 10 }); // returns 100
                                </code>
                            </pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-getData">heatmapInstance.getData()</h3>
                        <div class="description">
                            <p><strong>返回</strong>一个持久化和可重用（使用setData）的JSON对象</p>
                            <pre><code class="language-javascript">
var currentData = heatmapInstance.getData();
// 现在创建一个新的实例对象并设置数据
var heatmap2 = h337.create(config);
heatmap2.setData(currentData); // 现在两个heatmap实例内容相同
                            </code></pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-getDataURL">heatmapInstance.getDataURL()</h3>
                        <div class="description">
                            <p><strong>返回</strong><code>dataURL</code>字符串</p>
                            <p>返回值是<code>heatmap</code>实例的<code>base64</code>编码<code>dataURL</code>。</p>
                            <pre><code class="language-javascript">
heatmapInstance.getDataURL(); // <small>data:image/png;base64...</small>
// 准备保存在本地或者保存在服务端
                            </code></pre>
                        </div>
                    </div>
                    <div class="fn">
                        <h3 id="heatmap-repaint">heatmapInstance.repaint()</h3>
                        <div class="description">
                            <p><strong>返回</strong><code>heatmapInstance</code></p>
                            <p>重绘整个<code>heatmap Canvas</code>画板</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <script src="assets/third-party/prism/prism.js"></script>
        <script>
            var docs=(function(){
                function $(id){
                    return document.getElementById(id);
                };
                function initializeDocs(){
                    var showMessage=false;
                    if(!localStorage['readTheDocs']){
                        showMessage=true;
                    }
                    $('btn-confirm').onclick=function(){
                        localStorage['readTheDocs']=true;
                        $('msg-content').classList.add('animate');
                        $('msg-content').classList.add('hide');
                    };
                    if(showMessage){
                        $('msg-content').classList.add('hide');
                        setTimeout(function(){$('msg-content').classList.add('animate');},100);
                    }
                    $('activate-msg').onclick=function(){
                        $('msg-content').classList.remove('hide');
                    }
                };
                return{
                    init:initializeDocs
                }
            }());
            window.onload=function(){
                docs.init();
            };
        </script>
  </body>
</html>
